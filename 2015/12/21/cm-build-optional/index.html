<!DOCTYPE html><html lang="default"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> CyanogenModをビルドするときに接頭詞などをつける · 心踊る変遷</title><meta name="description" content="CyanogenModをビルドするときに接頭詞などをつける - otofune"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/mindhopping" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">CyanogenModをビルドするときに接頭詞などをつける</h1><div class="post-info">Dec 21, 2015</div><div class="post-content"><h3 id="なんぞ"><a href="#なんぞ" class="headerlink" title="なんぞ"></a>なんぞ</h3><p>だいぶ前のツイートを纏める意味です</p>
<h3 id="具体的に"><a href="#具体的に" class="headerlink" title="具体的に"></a>具体的に</h3><p>カーネルの名前に自分の好んだ文字列をぶち込み<br>ビルド名に自分の好んだ文字列をぶち込み<br>カーネルの起動時のスプラッシュ変更<br>カーネルの細々した設定</p>
<h3 id="やりかた"><a href="#やりかた" class="headerlink" title="やりかた"></a>やりかた</h3><p>カーネルの設定はカーネルフォルダのarch/arm/configsにある（armじゃないプラットフォーム向けの場合はそのフォルダ）</p>
<p>カーネルロゴはdrivers/video/logoにある</p>
<p>カーネルの設定ファイル（上述のフォルダに配置するなんたら_defconfig）には<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">CONFIG_LOCALVERSION</span>=<span class="string">"-MH"</span></span><br></pre></td></tr></table></figure></p>
<p>といったようにカーネルビルド時のバージョンにつく文字列を押し込める</p>
<p>ビルド名に指定の文字列を打ち込むのはcm.mkに<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Custom tag <span class="keyword">for</span> unofficial builds</span><br><span class="line">TARGET_UNOFFICIAL_BUILD_ID := MindHopping</span><br></pre></td></tr></table></figure></p>
<p>のようにする</p>
<h3 id="該当ツイート"><a href="#該当ツイート" class="headerlink" title="該当ツイート"></a>該当ツイート</h3><p><blockquote class="twitter-tweet" lang="ja"><p lang="ja" dir="ltr">Kernel豆知識&#10;設定ファイルはここ&#10;arch/arm/configs/&#10;ロゴはここ&#10;drivers/video/logo/&#10;設定ファイルに接頭句があったりする</p>&mdash; 音船 (@otfune) <a href="https://twitter.com/otfune/status/668411582649528320" target="_blank" rel="external">2015, 11月 22</a></blockquote></p>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
<blockquote class="twitter-tweet" lang="ja"><p lang="ja" dir="ltr">あとcm.mkに&#10;# Custom tag for unofficial builds&#10;TARGET_UNOFFICIAL_BUILD_ID := LegacyXperia&#10;みたいな表記が可能。&#10;例えばこれをZeroDigitalにするとその文字がビルドにつく。</p>&mdash; 音船 (@otfune) <a href="https://twitter.com/otfune/status/668413270789742592" target="_blank" rel="external">2015, 11月 22</a></blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<h3 id="最後に"><a href="#最後に" class="headerlink" title="最後に"></a>最後に</h3><p>自分で掘り起こすめんどくささとお別れ出来る</p>
</div></article></div></section><footer><div class="paginator"><a href="/2015/12/23/kindle-fire-hd-7-repair/" class="prev">上一篇</a><a href="/2015/12/17/caution-hexo-change-post/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2016 <a href="https://mindhopping.github.io">otofune</a>, unless otherwise noted.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>